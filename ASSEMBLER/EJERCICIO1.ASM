TITLE 'EJERCICIO1'
; RESOLVER LA INSTRUCCIÓN X:=[(A+B)/(C-D)*2]
DATOS SEGMENT ; DEFINICIÓN DEL SEGMENTO DE DATOS
    A    DW 2 ; VALOR A DE 16 BITS
    B    DW 2 ; VALOR B DE 16 BITS
    C    DB 2 ; VALOR C DE 8 BITS 
    D    DB 1 ; VALOR D DE 8 BITS
    X    DW ? ; VARIABLE DONDE SE GUARDARÁ EL RESULTADO
    SUMA DW ? ; VARIABLE PARA GUARDAR EL RESULTADO DE LA SUMA
    REST DB ? ; VARIABLE PARA GUARDAR EL RESULTADO DE LA RESTA
    MULT DB ? ; VARIABLE PARA GUARDAR EL RESULTADO DE LA MULTIPLICACIÓN
    COCIENTE DB ?    
DATOS ENDS    ; FIN DEL SEGMENTO DE DATOS

PILA SEGMENT STACK "STACK" ; DEFINICIÓN DEL SEGMENTO DE PILA
PILA ENDS                  ; FIN DEL SEGMENTO DE PILA

CODE SEGMENT "CODE" ; DEFINICIÓN DEL SEGMENTO DE CODIGO
    ASSUME CS:CODE,DS:DATOS,SS:PILA  ; LLAMA LOS SEGMENTOS DEL CÓDIGO
    START PROC                       ; INICIO DEL PROCEDIMIENTO PRINCIPAL 
        MOV AX,DATOS      ; MUEVE EL SEGMENTO DE DATOS A AX
        MOV DS,AX         ; MUEVE A DS:=AX

        ; SUMA (A+B)
        MOV AX,A          ; MUEVE EL VALOR DE A AL REGISTRO AX
        MOV BX,B          ; MUEVE EL VALOR DE B AL REGISTRO BX
        ADD AX,BX         ; HACE LA SUMA 
        MOV SUMA,AX       ; PONE EL RESULTADO EN SUMA

        ; RESTA (C-D)
        MOV AL,C          ; MUEVE EL VALOR DE C AL REGISTRO AL
        MOV AH,D          ; MUEVE EL VALOR DE D AL REGISTRO AH
        SUB AL,AH         ; HACE LA RESTA
        MOV REST,AL       ; PONE EL RESULTADO DE LA RESTA EN REST

        ; DIVISION SUMA/RESTA
        MOV AX,SUMA       ; DIVIDENDO (AX) 16 BITS
        MOV BL,REST       ; DIVISOR (BL) 8 BITS
        DIV BL            ; HACE LA DIVISIÓN 
        MOV COCIENTE,AL   ; PONE EL RESULTADO EN COCIENTE

        ;MULTIPLICACIÓN (COCIENTE*2)
        MOV BL,2          ; VALOR 2 A BL
        MUL BL            ; MULTIPLICACIÓN         
        ADD AX,48         ; SUMA 48 POR LA TABLA ASCII


        MOV DX,AX         ; MUEVE EL VALOR DE AX AL DX 
        MOV AH,02H        ; INSTRUCCIÓN PARA COLOCAR EL CURSOR 
        INT 21H           ; PETICIÓN DE FUNCIÓN AL DOS
        
    START ENDP      ; FIN DEL PROCEDIMIENTO PRINCIPAL
CODE ENDS           ; FIN DEL SEGMENTO DE CODIGO 

END START           ; FIN DEL PROGRAMA